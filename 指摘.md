一回目の指摘
ドメインモデル
動詞がかかれている事
名詞がどう日もついているか見るものだから
名詞だけ書く　bbシステムは削除　そのほかは良い
注文履歴が客に直接は違う　注文に日もついていないのが気になる
注文に客が紐つく　注文一覧＝履歴
　販売内容は良い　発送通知はいらない　「発送」のモデルが必要　←それに対して注文を紐付ける
クレカと運送情報は削除　使いはするけど現実のものを動かすには必要
ただしドメインモデルになるとシステムの設計なので運送とクレカは任せるのでシステム化はしない
お金を支払っているのか、未払いなのかが必要
カード番号や有効期限等はいらない　クレカの失敗や成功のやり取りの履歴は必要→決済履歴のモデルの作成

ユースケース図はしっかり手直しして再提出

クレカのフローに関して
原則、カード会社の社員が管理システムを操作することはほとんどない

エンドユーザーは、
	クレカ情報を記入し、注文を確定ボタンをクリック
	管理システムにて、クレカシステムのAPIにリクエストをするこの時、管理システムにて、決済。
	ログのデータが作成される
	クレカシステムにて、決済の結果を返却する
	決済が出来ない場合、エラーコードに応じたエラーメッセージを画面に表示する
		決済ログのデータを作成する
	決済をできた場合、
		注文データを作成する
		決済ログのデータを作成する
		カートを空にする
		在庫データを更新する
	クレカの情報の保存は、ブラウザのCookieで保存させる

○配送フロー Cronなどのバッヂ処理(=毎日 ~~:~~ に行う処理)
*配送会社の社員が管理システムを操作することは少ない(あるにはある)

· 倉庫業者は、
· 商品を梱包する
· 伝票を印刷し、段ボールに貼る
配送業者は、
· 毎日決まった時間に倉庫に到着する 16:30
· 配送システム(=配送業者の自社システム)にて、すべてのダンボールの受付を行う
· 配送システムに、受付データが作成される。そのデータには、「管理システムにおける注文ID」「12桁の
自社の配送番号」→購入履歴の追跡機能で使いたいが含まれている
· ダンボールを受け取る
(バッヂ処理·自動·アクターなし)
- 管理システムにて、毎日決まった時間17:30 に、配送システムのAPIにリクエストをし、新規作成された受
付データのリストを取得する
管理システム上の注文データのステータスを「出荷完了」に変更する。また、配送番号を登録する
※エンドユーザーは、
これ以降、
· 注文履歴画面には「出荷完了」と表示される
· 配送番号が表示されており、クリックすることで、配送システムの機能を利用して、配送状況を確認す
ることができる
· これ以降、サイトによるキャンセルをすることはできない
キャンセルをしたい場合、カスタマーサポートへ電話をする

-

- ドメインモデル
入れて欲しいもの:カート、注文、注文明細、決済ログ、配送
「ステータス」「返品理由」にこそis a model
· クレジットカードの情報はセキュリティ上のリスクが高いので、持たせない。
· 実は、「支払いが成功したかどうか」だけを持っていればよい
· 顧客への問い合わせ対応として、決済ログ
· →例えば、限度額のような顧客由来のエラーでも、カスタマーサポートへ連絡が来ることもある
· 顧客情報としての「支払情報」は、持っていてもOK
· ただし、DBではなくブラウザのキャッシュで保存する(ない方がシンプル)
· ユースケース図
「管理する」のような、よくわからない表現が多い
- 管理者は、入れるとしたら、
· ユーザーの作成
· ユーザーの情報変更→特に権限の強さ
- ユーザーの利用停止
「削除する」と「停止する」の違い &そもそも削除機能を入れるべきものなのか
1ユースケースにつき1アクターが基本。2種類のアクターが同じ操作をするなら、ユースケースを分割す
るべき

-